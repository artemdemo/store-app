{"version":3,"sources":["@traceur/generated/TemplateParser/22","angular2/src/core/compiler/shadow_dom_emulation/light_dom.js","@traceur/generated/TemplateParser/21","@traceur/generated/TemplateParser/20","@traceur/generated/TemplateParser/25","@traceur/generated/TemplateParser/23","@traceur/generated/TemplateParser/27","@traceur/generated/TemplateParser/29"],"names":[],"mappings":"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","file":"angular2/src/core/compiler/shadow_dom_emulation/light_dom.js","sourceRoot":"C:/Sources/git/angular20/dist/js/dev/es6/","sourcesContent":["System.register($__placeholder__0, function($__export) {\n          $__placeholder__1\n        });","import {assert} from \"rtts_assert/rtts_assert\";\nimport {Element,\n  Node,\n  DOM} from 'angular2/src/facade/dom';\nimport {List,\n  ListWrapper} from 'angular2/src/facade/collection';\nimport {isBlank,\n  isPresent} from 'angular2/src/facade/lang';\nimport {View} from '../view';\nimport {ElementInjector} from '../element_injector';\nimport {ViewContainer} from '../view_container';\nimport {Content} from './content_tag';\nexport class SourceLightDom {}\nexport class DestinationLightDom {}\nclass _Root {\n  constructor(node, injector) {\n    this.node = node;\n    this.injector = injector;\n  }\n}\nexport class LightDom {\n  constructor(lightDomView, shadowDomView, element) {\n    assert.argumentTypes(lightDomView, View, shadowDomView, View, element, Element);\n    this.lightDomView = lightDomView;\n    this.shadowDomView = shadowDomView;\n    this.nodes = DOM.childNodesAsList(element);\n    this.roots = null;\n  }\n  redistribute() {\n    var tags = this.contentTags();\n    if (tags.length > 0) {\n      redistributeNodes(tags, this.expandedDomNodes());\n    }\n  }\n  contentTags() {\n    return assert.returnType((this._collectAllContentTags(this.shadowDomView, [])), assert.genericType(List, Content));\n  }\n  _collectAllContentTags(view, acc) {\n    assert.argumentTypes(view, View, acc, assert.genericType(List, Content));\n    var eis = view.elementInjectors;\n    for (var i = 0; i < eis.length; ++i) {\n      var ei = eis[i];\n      if (isBlank(ei))\n        continue;\n      if (ei.hasDirective(Content)) {\n        ListWrapper.push(acc, ei.get(Content));\n      } else if (ei.hasPreBuiltObject(ViewContainer)) {\n        var vc = ei.get(ViewContainer);\n        ListWrapper.forEach(vc.contentTagContainers(), (view) => {\n          this._collectAllContentTags(view, acc);\n        });\n      }\n    }\n    return assert.returnType((acc), assert.genericType(List, Content));\n  }\n  expandedDomNodes() {\n    var res = [];\n    var roots = this._roots();\n    for (var i = 0; i < roots.length; ++i) {\n      var root = roots[i];\n      var ei = root.injector;\n      if (isPresent(ei) && ei.hasPreBuiltObject(ViewContainer)) {\n        var vc = root.injector.get(ViewContainer);\n        res = ListWrapper.concat(res, vc.nodes());\n      } else if (isPresent(ei) && ei.hasDirective(Content)) {\n        var content = root.injector.get(Content);\n        res = ListWrapper.concat(res, content.nodes());\n      } else {\n        ListWrapper.push(res, root.node);\n      }\n    }\n    return assert.returnType((res), List);\n  }\n  _roots() {\n    if (isPresent(this.roots))\n      return this.roots;\n    var viewInj = this.lightDomView.elementInjectors;\n    this.roots = ListWrapper.map(this.nodes, (n) => new _Root(n, ListWrapper.find(viewInj, (inj) => inj.forElement(n))));\n    return this.roots;\n  }\n}\nObject.defineProperty(LightDom, \"parameters\", {get: function() {\n    return [[View], [View], [Element]];\n  }});\nObject.defineProperty(LightDom.prototype._collectAllContentTags, \"parameters\", {get: function() {\n    return [[View], [assert.genericType(List, Content)]];\n  }});\nfunction redistributeNodes(contents, nodes) {\n  for (var i = 0; i < contents.length; ++i) {\n    var content = contents[i];\n    var select = content.select;\n    var matchSelector = (n) => DOM.elementMatches(n, select);\n    if (isBlank(select)) {\n      content.insert(nodes);\n      ListWrapper.clear(nodes);\n    } else {\n      var matchingNodes = ListWrapper.filter(nodes, matchSelector);\n      content.insert(matchingNodes);\n      ListWrapper.removeAll(nodes, matchingNodes);\n    }\n  }\n}\nObject.defineProperty(redistributeNodes, \"parameters\", {get: function() {\n    return [[assert.genericType(List, Content)], [assert.genericType(List, Node)]];\n  }});\n\n//# sourceMappingURL=C:/Sources/git/angular20/modules/angular2/src/core/compiler/shadow_dom_emulation/light_dom.map\n\n//# sourceMappingURL=./light_dom.map","return {\n      setters: $__placeholder__0,\n      execute: $__placeholder__1\n    }","function($__m) {\n          $__placeholder__0\n        }","$__placeholder__0 = $__m.$__placeholder__1;","var $__placeholder__0 = $__export($__placeholder__1, $__placeholder__2);","function() {\n          var $__placeholder__0 = $__placeholder__1;\n          return ($traceurRuntime.createClass)($__placeholder__2, $__placeholder__3,\n                                               $__placeholder__4);\n        }()","$__placeholder__0 = $__placeholder__1"]}