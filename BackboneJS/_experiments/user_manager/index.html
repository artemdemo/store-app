
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Users manager</title>
        <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
        
        <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="../vendor/bootstrap/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css" />
        
        
    </head>
    <body>
        
        <div class="container">
            <h1><a href="#/">User Manager</a></h1>
            <hr />
            <div class="page"></div>
        </div>
        
        <script type="text/template" id="user-list-template">
            <a href="#/new" class="btn btn-primary">New User</a>
            <hr />
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Age</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <% _.each(users, function(user) { %>
                        <tr>
                            <td><%= user.get('firstname') %></td>
                            <td><%- user.get('lastname') %></td>
                            <td><%= user.get('age') %></td>
                            <td><a href="#/edit/<%= user.id %>" class="btn btn-default btn-sm">Edit</a></td>
                        </tr>
                    <% }); %>
                </tbody>
            </table>
        </script>
        
        <script type="text/template" id="user-edit-template">
            <form class="edit-user-form">
                <legend> <%= user ? 'Update' : 'Create' %> User</legend>
                <div class="form-group">
                    <label>First Name</label>
                    <input type="text" class="form-control" name="firstname" value="<%= user ? user.get('firstname') : '' %>" />
                </div>
                <div class="form-group">
                    <label>Last Name</label>
                    <input type="text" class="form-control" name="lastname" value="<%= user ? user.get('lastname') : '' %>" />
                </div>
                <div class="form-group">
                    <label>Age</label>
                    <input type="number" class="form-control" name="age"  value="<%= user ? user.get('age') : '' %>" />
                </div>
                <hr />
                <input type="hidden" name="id" value="<%= user ? user.id : (new Date()).getTime() %>" />
                <button type="submit" class="btn btn-default"><%= user ? 'Update' : 'Create' %></button>
                <% if(user) { %>
                    <button type="submit" class="btn btn-danger delete">Delete</button>
                <% }; %>
            </form>
        </script>
        
        <script  src="../vendor/jquery.min.js"></script>
        <script  src="../vendor/underscore-min.js"></script>
        <script  src="../vendor/backbone-min.js"></script>
        <script  src="js/app.js"></script>
    </body>
</html>