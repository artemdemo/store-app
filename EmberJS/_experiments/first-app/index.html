<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Store app - EmberJS</title>
        <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
        <link href="../vendor/bootstrap/css/bootstrap.css" rel="stylesheet" type="text/css" />
        <link href="css/style.css" rel="stylesheet" type="text/css" />

        <script defer src="js/app.js"></script>
    </head>
    <body>

        <script type="text/x-handlebars">
            <div class="container">
                <nav class="navbar navbar-default">
                    <div class="container-fluid">
                        <div class="navbar-header">
                            <a class="navbar-brand" href="#">Brand</a>
                        </div>

                        <div class="collapse navbar-collapse">
                            <ul class="nav navbar-nav">
                                <li>{{#link-to 'posts'}}Posts{{/link-to}}</li>
                                <li>{{#link-to 'about'}}About{{/link-to}}</li>
                            </ul>
                        </div>
                    </div>
                </nav>

                <!-- {{outlet}} - here is where template should be rendered, when url changes -->
                {{outlet}}
            </div>
        </script>

        <script type="text/x-handlebars" id="posts">
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span3">
                        <table class='table'>
                            <thead>
                            <tr><th>Recent Posts</th></tr>
                            </thead>

                            <tbody>
                            {{#each}}
                            <tr>
                                <td>
                                    {{#link-to 'post' this}}{{title}} <small class='muted'>by {{author.name}}</small>{{/link-to}}
                                </td>
                            </tr>
                            {{/each}}
                            </tbody>
                        </table>
                    </div>

                    <div class="span9">
                        {{outlet}}
                    </div>
                </div>
            </div>
        </script>

        <script type="text/x-handlebars" id="post">
            {{#if isEditing}}
              {{partial 'post/edit'}}
              <button {{action 'doneEditing'}}>Done</button>
            {{else}}
              <button {{action 'edit'}}>Edit</button>
            {{/if}}

            <h1>{{title}}</h1>
            <h2>by {{author.name}} <small class='muted'>({{format-date date}})</small></h2>

            <hr>

            <div class='intro'>
              {{format-markdown excerpt}}
            </div>

            <div class='below-the-fold'>
              {{format-markdown body}}
            </div>
        </script>

        <script type="text/x-handlebars" id="post/_edit">
            <p>{{input type="text" value=title}}</p>
            <p>{{input type="text" value=excerpt}}</p>
            <p>{{textarea value=body}}</p>
        </script>

        <script type="text/x-handlebars" id="about">
            Some text about
        </script>
        
        <script src="../vendor/jquery.min.js"></script>
        <script src="../vendor/handlebars.min.js"></script>
        <script src="../vendor/ember-v.1.10.0/ember-template-compiler.js"></script>
        <script src="../vendor/ember-v.1.10.0/ember-v.1.10.0.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/showdown/0.4.0/Showdown.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment.min.js"></script>
        
    </body>
</html>